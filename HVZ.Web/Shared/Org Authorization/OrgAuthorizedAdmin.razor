@inherits LayoutComponentBase

@if (IsAdmin)
{
    @ChildContent
}

@code
{
    [CascadingParameter(Name = "IsAdmin")]
    public bool IsAdmin { get; set; }

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    private bool shouldRender;

    protected override bool ShouldRender()
    {
        return shouldRender;
    }

    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        shouldRender = true;
    }
}